<html lang="en">
    <head>
        <!--<meta charset="utf-8">-->
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Mis Ofertas</title>
        <!-- Font Awesome -->
        <link rel="icon" type="image/png" href="img/IconoMisOfertas.png">
        <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">-->
        <!-- Bootstrap core CSS -->
        <!--<link href="css/bootstrap.min.css" rel="stylesheet">-->
        <!-- Material Design Bootstrap -->
        <link href="css/mdb.min.css" rel="stylesheet">
        <!-- Your custom styles (optional) -->
        <link href="css/style.css" rel="stylesheet">
        <link href="css/compiled.min.css" rel="stylesheet">

        <!--<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap4.min.css">-->
        <link rel="stylesheet" type="text/css" href="DataTables/DataTables-1.10.16/css/dataTables.bootstrap4.min.css">
        <link rel="stylesheet" type="text/css" href="css/md-datatables-pagination.css">

        <style>
            .my-inputs{
                font-size: 20px!important;
            }
            .mi-select{
                font-size: 18px;
                font-family: inherit;
                padding: 10px 16px;
                border-radius:6px;
                width: auto;
                background-color: #fff;
                border: 1px solid #ccc;
            }
            .formEditDatos{
                left: 16%;
            }
            /*@media (max-width : 777px) {*/
            @media (max-width : 767px) {
                .formEditDatos{
                    left: 0!important;
                }
                .select-derecho{
                    margin: auto!important;
                    float: none !important;
                    margin-bottom: 1rem!important;
                }
                .select-izquerdo{
                    /*margin-top: 2rem;*/
                    margin: auto!important;
                    float: none !important;
                }
                h2{
                    padding: 1rem!important;
                }
            }
        </style>
    </head>


    <body>

        <!--Header-->
        <header style="padding-bottom: 55px">
            <!--Navbar-->
            <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-red scrolling-navbar">
                <div class="container">
                    <a class="navbar-brand" href="#"><strong>Mis Ofertas</strong></a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                            </li>
                            <li id="liAdminOfertas" class="nav-item">
                                <a id="aAdminOfertas" class="nav-link"  href="#">Ofertas</a>
                            </li>
                            <li id="liAdminProductos" class="nav-item">
                                <a id="aAdminProductos" class="nav-link"  href="#">Productos</a>
                            </li>
                            <li id="liVistaCliente" class="nav-item">
                                <a id="aVistaCliente" class="nav-link"  href="accesoCliente.html">Vista cliente</a>
                            </li>
                        </ul>
                        <ul class="navbar-nav ml-auto nav-flex-icons">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle waves-effect waves-light" id="navbarNombreSesion" data-toggle="dropdown" aria-haspopup="true"
                                   aria-expanded="false"><i class="fa fa-user"></i> Sesion 
                                </a>
                                <div class="dropdown-menu dropdown-menu-right dropdown-unique" aria-labelledby="navbarDropdownMenuLink">
                                    <a onclick="cerrarSesion()" class="dropdown-item waves-effect waves-light" href="index.html"> Cerrar Sesion  <i class="fa fa-window-close-o"></i></a>
                                    <a id="toEditarMisDatos" class="dropdown-item waves-effect waves-light" href="editarMisDatos.html" > Mis datos  <i class="fa fa-address-card-o"></i></a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <!--Fin Navbar-->
        </header>
        <!--Fin Header-->

        <!--Main-->
        <main>
            <hr class="featurette-divider" style="margin-bottom: 50px">

            <section>
                <div class="container marketing">
                    <div class="tab-content">
                        <div id="tabAdminOfertas" >
                            <div class="text-left">
                                <button class="btn btn-default btn-rounded waves-effect waves-light" onclick="crearOfertaModal()">Crear Oferta <i class="fa fa-eye ml-1"></i></button>
                            </div>

                            <table id="tabla-ofertas" class="table table-striped table-bordered table-responsive text-center" cellspacing="0" width="100%">
                                <thead>
                                    <tr>
                                        <th>Id</th>
                                        <th>Nombre</th>
                                        <th>Descricion</th>
                                        <th>Precio Normal</th>
                                        <th>Precio Oferta</th>
                                        <th>Numero de Visitas</th>
                                        <th>Min. de compra</th>
                                        <th>Max. de compra</th>
                                        <th>Publicada</th>
                                        <th>Acción</th>
                                    </tr>
                                </thead>
                                <tfoot>
                                    <tr>
                                        <th>Id</th>
                                        <th>Nombre</th>
                                        <th>Descricion</th>
                                        <th>Precio Normal</th>
                                        <th>Precio Oferta</th>
                                        <th>Numero de Visitas</th>
                                        <th>Min. de compra</th>
                                        <th>Max. de compra</th>
                                        <th>Publicada</th>
                                        <th>Acción</th>
                                    </tr>
                                </tfoot>
                                <tbody>
                                </tbody>
                            </table>

                        </div>
                        <div id="tabAdminProductos">
                            <div class="text-left">
                                <button class="btn btn-default btn-rounded waves-effect waves-light" onclick="crearProductoModal()">Crear Producto <i class="fa fa-eye ml-1"></i></button>
                            </div>
                            <table id="tabla-productos" class="table table-striped table-bordered table-responsive text-center" cellspacing="0" width="100%">
                                <thead>
                                    <tr>
                                        <th>Id</th>
                                        <th>Nombre</th>
                                        <th>Descricion</th>
                                        <th>Precio</th>
                                        <th>Fecha creación</th>
                                        <th>Ultima modificación</th>
                                        <th>Imagen</th>
                                        <th>Categoria</th>
                                        <th>Acción</th>
                                    </tr>
                                </thead>
                                <tfoot>
                                    <tr>
                                        <th>Id</th>
                                        <th>Nombre</th>
                                        <th>Descricion</th>
                                        <th>Precio</th>
                                        <th>Fecha creación</th>
                                        <th>Ultima modificación</th>
                                        <th>Imagen</th>
                                        <th>Categoria</th>
                                        <th>Acción</th>
                                    </tr>
                                </tfoot>
                                <tbody>
                                </tbody>
                            </table>
                        </div>

                    </div>
                </div>
            </section>

            <hr class="featurette-divider" style="margin-bottom: 120px">
        </main>
        <!--Fin Main-->

        <!--Section of Modal-->
        <section>
            <!-- Modal Medium Danger -->
            <div class="modal fade" id="centralModalError" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-notify modal-warning" role="document">
                    <!--Content-->
                    <div class="modal-content">
                        <!--Header-->
                        <div class="modal-header">
                            <p class="heading lead">Upps!</p>

                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true" class="white-text">&times;</span>
                            </button>
                        </div>

                        <!--Body-->
                        <div class="modal-body">
                            <div class="text-center" id="divTextoAlerta">
                                <i class="fa fa-times fa-4x mb-3 animated rotateIn"></i>
                                <p>Debe ingresar dos veces la misma contraseña.</p>
                            </div>
                        </div>

                        <!--Footer-->
                        <div class="modal-footer justify-content-center">
                            <!--<a type="button" class="btn btn-primary-modal">Get it now <i class="fa fa-diamond ml-1"></i></a>-->
                            <a type="button" class="btn btn-outline-secondary-modal waves-effect" data-dismiss="modal">Entendido! <i class="fa fa-hand-paper-o  ml-1"></i></a>
                        </div>
                    </div>
                    <!--/.Content-->
                </div>
            </div>

            <!-- Modal Medium Danger-->

            <!--Modal Administrar ofertas-->
            <div class="modal fade" id="ModalCrearOferta" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="top: 1px!important ; padding: 0!important" aria-hidden="true">
                <div class="modal-dialog modal-lg cascading-modal modal-notify" style="margin-top: 5%!important;"  role="document">
                    <!--Content-->
                    <div class="modal-content">

                        <!--Modal cascading tabs-->
                        <div class="modal-c-tabs">

                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs tabs-2 light-blue darken-3" role="tablist">
                                <li id="navItem1" class="nav-item">
                                    <a class="nav-link active" data-toggle="tab" href="#formCrearOferta" role="tab"><i class="fa fa-user mr-1"></i> Crear Oferta</a>
                                </li>
                                <li id="navItem2" class="nav-item" style="display: none">
                                    <a class="nav-link" data-toggle="tab" href="#formEditarOferta" role="tab"><i class="fa fa-user-plus mr-1"></i> Editar Oferta</a>
                                </li>
                            </ul>

                            <!-- Tab panels -->
                            <div class="tab-content">
                                <!--formCrearOferta-->
                                <div class="tab-pane fade in show active" id="formCrearOferta" role="tabpanel">
                                    <form action="OfertaServlet" enctype="multipart/form-data" method="POST">

                                        <!--Body-->
                                        <div class="modal-body mb-1" >
                                            <div class="md-form form-sm">
                                                <i class="fa fa-newspaper-o prefix"></i>
                                                <input type="text" id="nombreOferta" name="nombreOferta" class="form-control my-inputs"  required="">
                                                <label for="nombreOferta">Nombre de Oferta</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-newspaper-o prefix"></i>
                                                <input type="text" id="descripcionOferta" name="descripcionOferta" class="form-control my-inputs"  required="">
                                                <label for="descripcionOferta">Descripcion de la Oferta</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-product-hunt prefix"></i>
                                                <select name="selectCategoriaProd" id="selectCategoriaProd" class="browser-default form-control select-izquerdo" style="width: 30%;margin-left: 30%;padding: o" required="">
                                                    <option disabled="" selected="">Seleccione</option>
                                                    <option value="1">Categoria</option>
                                                    <option value="2">Electrodomesticos</option></select>
                                                <label for="selectCategoriaProd">Categoria</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-product-hunt prefix"></i>
                                                <select name="selectProducto" id="selectProducto" class="browser-default form-control select-izquerdo" style="width: 30%;margin-left: 30%;padding: o" required="">
                                                    <option disabled="" selected="">Seleccione</option>
                                                    <option value="1">Chocman</option>
                                                    <option value="2">Super 8</option></select>
                                                <label for="selectProducto">Producto</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-money prefix active"></i>
                                                <input type="number" id="txtPrecioNormal" name="txtPrecioNormal" class="form-control my-inputs" readonly="" value="0">
                                                <label class="active" for="txtPrecioNormal">Precio Normal</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-money prefix"></i>
                                                <input type="number" id="txtPrecioOferta" name="txtPrecioOferta" class="form-control my-inputs"  required="" min="0">
                                                <label for="txtPrecioOferta">Precio oferta</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-map prefix"></i>
                                                <select name="selectRegion" id="selectRegion" class="browser-default form-control select-izquerdo" style="width: 30%;margin-left: 30%" required="">
                                                    <option disabled="" selected="">Seleccione</option>
                                                    <option value="1">Region 1</option>
                                                    <option value="2">Region 2</option></select>
                                                <label for="selectRegion">Region</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-map prefix"></i>
                                                <select name="selectComuna" id="selectComuna" class="browser-default form-control select-izquerdo" style="width: 30%;margin-left: 30%" required="">
                                                    <option disabled="" selected="">Seleccione</option>
                                                    <option value="1">Comuna 1</option>
                                                    <option value="2">Comuna 2</option></select>
                                                <label for="selectComuna">Comuna</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-map prefix"></i>
                                                <select name="selectTiendas" id="selectTiendas" class="browser-default form-control select-izquerdo" style="width: 30%;margin-left: 30%" required="">
                                                    <option disabled="" selected="">Seleccione</option>
                                                    <option value="1">Mall tobalaba</option>
                                                    <option value="2">Parque Arauco</option></select>
                                                <label for="selectTiendas">Local</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-sort-numeric-desc prefix"></i>
                                                <input type="number" id="txtCantMaxima" name="txtCantMaxima" class="form-control  my-inputs" required="">
                                                <label for="txtCantMaxima">Cantidad maxima</label>
                                            </div>
                                        </div>
                                        <!--Footer-->
                                        <div class="text-center display-footer modal-footer">
                                            <button type="button" class="pull-left btn btn-outline-info waves-effect ml-auto" data-dismiss="modal" style="left: 0">Cerrar</button>
                                            <button type="submit" name="btnAction" value="btnCrear" class="pull-right btn btn-info waves-effect ml-auto" >Crear oferta</button>
                                        </div>
                                        <!--Fin footer-->
                                    </form>
                                </div>
                                <!-- Fin formCrearOferta 7-->


                                <!--formModificarOferta-->
                                <div class="tab-pane fade in show" id="formEditarOferta" role="tabpanel">
                                    <form action="OfertaServlet" enctype="multipart/form-data" method="POST">

                                        <!--Body-->
                                        <div class="modal-body mb-1" >
                                            <input type="number" id="idOferta2" name="idOferta2" hidden="">
                                            <div class="md-form form-sm">
                                                <i class="fa fa-newspaper-o prefix"></i>
                                                <input type="text" id="nombreOferta2" name="nombreOferta2" class="form-control my-inputs"  required="">
                                                <label for="nombreOferta2">Nombre de Oferta</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-newspaper-o prefix"></i>
                                                <input type="text" id="descripcionOferta2" name="descripcionOferta2" class="form-control my-inputs"  required="">
                                                <label for="descripcionOferta2">Descripcion de la Oferta</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-product-hunt prefix active"></i>
                                                <input type="number" id="idProducto" name="idProducto" value="0" hidden="">
                                                <select name="selectProducto2" id="selectProducto2" class="browser-default form-control select-izquerdo" style="width: 30%;margin-left: 30%;padding: o" required="">
                                                    <option disabled="" selected="">Seleccione</option>
                                                    <option value="1">Chocman</option>
                                                    <option value="2">Super 8</option></select>
                                                <label class="active" for="selectProducto2">Producto</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-money prefix active"></i>
                                                <input type="number" id="txtPrecioNormal2" name="txtPrecioNormal2" class="form-control my-inputs" readonly="" value="0">
                                                <label class="active" for="txtPrecioNormal2">Precio Normal</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-money prefix active"></i>
                                                <input type="number" id="txtPrecioOferta2" name="txtPrecioOferta2" class="form-control my-inputs"  required="" min="0">
                                                <label class="active" for="txtPrecioOferta2">Precio oferta</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-map prefix active"></i>
                                                <select name="selectRegion2" id="selectRegion2" class="browser-default form-control select-izquerdo" style="width: 30%;margin-left: 30%" required="">
                                                    <option disabled="" selected="">Seleccione</option>
                                                    <option value="1">Region 1</option>
                                                    <option value="2">Region 2</option></select>
                                                <label class="active" for="selectRegion2">Region</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-map prefix active"></i>
                                                <select name="selectComuna2" id="selectComuna2" class="browser-default form-control select-izquerdo" style="width: 30%;margin-left: 30%" required="">
                                                    <option disabled="" selected="">Seleccione</option>
                                                    <option value="1">Comuna 1</option>
                                                    <option value="2">Comuna 2</option></select>
                                                <label class="active" for="selectComuna2">Comuna</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-map prefix active"></i>
                                                <select name="selectTiendas2" id="selectTiendas2" class="browser-default form-control select-izquerdo" style="width: 30%;margin-left: 30%" required="">
                                                    <option disabled="" selected="">Seleccione</option>
                                                    <option value="1">Mall tobalaba</option>
                                                    <option value="2">Parque Arauco</option></select>
                                                <label class="active" for="selectTiendas2">Local</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-sort-numeric-desc prefix active"></i>
                                                <input type="number" id="txtCantMaxima2" name="txtCantMaxima2" class="form-control  my-inputs" required="">
                                                <label class="active" for="txtCantMaxima2">Cantidad maxima</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <!--<i class="fa fa-sort-numeric-desc prefix active"></i>-->
                                                <img id="img_anterior" src="img/productos/1274277-impresora_officejet-pro-6230_l.png" width="100" height="100" alt=""/>
                                            </div>
                                        </div>
                                        <!--Footer-->
                                        <div class="modal-footer display-footer">
                                            <button type="button" class="btn btn-outline-info waves-effect ml-auto" data-dismiss="modal">Cerrar</button>
                                            <button type="submit" name="btnAction" value="btnModificar" class="btn btn-info waves-effect ml-auto" >Modificar</button>
                                        </div>
                                        <!--Fin footer-->
                                    </form>
                                </div>
                                <!--Fin formModificarOferta-->
                            </div>

                        </div>
                    </div>
                    <!--/.Content-->
                </div>
            </div>
            <!--Fin Modal Administrar ofertas-->
            <!--Modal Administrar Productos-->
            <div class="modal fade" id="ModalCrearProducto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="top: 1px!important ; padding: 0!important" aria-hidden="true">
                <div class="modal-dialog modal-lg cascading-modal modal-notify" style="margin-top: 5%!important;"  role="document">
                    <!--Content-->
                    <div class="modal-content">

                        <!--Modal cascading tabs-->
                        <div class="modal-c-tabs">

                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs tabs-2 light-blue darken-3" role="tablist">
                                <li id="navItemProd1" class="nav-item">
                                    <a class="nav-link active" data-toggle="tab" href="#formCrearProducto" role="tab"><i class="fa fa-user mr-1"></i> Crear Producto</a>
                                </li>
                                <li id="navItemProd2" class="nav-item" style="display: none">
                                    <a class="nav-link" data-toggle="tab" href="#formEditarProducto" role="tab"><i class="fa fa-user-plus mr-1"></i> Editar Producto</a>
                                </li>
                            </ul>

                            <!-- Tab panels -->
                            <div class="tab-content">
                                <!--formCrearProducto-->
                                <div class="tab-pane fade in show active" id="formCrearProducto" role="tabpanel">
                                    <form action="ProductoServlet" enctype="multipart/form-data" method="POST">

                                        <!--Body-->
                                        <div class="modal-body mb-1" >
                                            <div class="md-form form-sm">
                                                <i class="fa fa-newspaper-o prefix"></i>
                                                <input type="text" id="nombreProducto" name="nombreProducto" class="form-control my-inputs"  required="">
                                                <label for="nombreProducto">Nombre de Producto</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-newspaper-o prefix"></i>
                                                <input type="text" id="descripcionProducto" name="descripcionProducto" class="form-control my-inputs"  required="">
                                                <label for="descripcionProducto">Descripcion del Producto</label>
                                            </div>
                                            <div class="md-form form-sm" style="height: 70px">
                                                <i class="fa fa-file-image-o prefix"></i>
                                                <!--<input type="text" id="descripcionProducto" name="descripcionProducto" class="form-control my-inputs"  required="">-->
                                                <input type="file" name="inputImagen" id="inputImagen" accept="image/*" class=" my-inputs"  placeholder="Upload your file" required="" style="margin-left: 30%;height: 40px">
                                                <label for="inputImagen">Suba la foto del producto</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-money prefix active"></i>
                                                <input type="number" id="txtPrecio" name="txtPrecio" class="form-control my-inputs"  value="0" min="1" required="">
                                                <label class="active" for="txtPrecio">Precio</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-map prefix"></i>
                                                <select name="selectCategoria" id="selectCategoria" class="browser-default form-control select-izquerdo" style="width: 30%;margin-left: 30%" required="">
                                                    <option disabled="" selected="">Seleccione</option>
                                                </select>
                                                <label for="selectCategoria">Categoria</label>
                                            </div>
                                        </div>
                                        <!--Footer-->
                                        <div class="text-center display-footer modal-footer">
                                            <button type="button" class="pull-left btn btn-outline-info waves-effect ml-auto" data-dismiss="modal" style="left: 0">Cerrar</button>
                                            <button type="submit" name="btnAction" value="btnCrear" class="pull-right btn btn-info waves-effect ml-auto" >Crear Producto</button>
                                        </div>
                                        <!--Fin footer-->
                                    </form>
                                </div>
                                <!-- Fin formCrearProducto 7-->


                                <!--formModificarProducto-->
                                <div class="tab-pane fade in show" id="formEditarProducto" role="tabpanel">
                                    <form action="ProductoServlet" enctype="multipart/form-data" method="POST">

                                        <!--Body-->
                                        <div class="modal-body mb-1" >
                                            <div class="md-form form-sm">
                                                <i class="fa fa-newspaper-o prefix"></i>
                                                <input type="number" id="idProducto2" name="idProducto2" hidden="" required="">
                                                <input type="text" id="nombreProducto2" name="nombreProducto2" class="form-control my-inputs"  required="">
                                                <label for="nombreProducto2">Nombre de Producto</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-newspaper-o prefix"></i>
                                                <input type="text" id="descripcionProducto2" name="descripcionProducto2" class="form-control my-inputs"  required="">
                                                <label for="descripcionProducto2">Descripcion del Producto</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-photo prefix"></i>
                                                <center>
                                                    <img id="imgActual" class="img-responsive img-circle" src="img/productos/1274277-impresora_officejet-pro-6230_l.png" alt="" height="100" width="100">
                                                </center>
                                                <label for="imgActual">Foto actual</label>
                                            </div>
                                            <div class="form-group checkbox-secondary">
                                                <i class="fa fa-photo prefix"></i>
                                                <input id="checkCambiarFoto" name="checkCambiarFoto" class="form-control" value="1" type="checkbox">
                                                <label for="checkCambiarFoto">¿Desea cambiar la foto?</label>
                                            </div>
                                            <div id="contenedor_foto" class="collapse" >
                                                <div class="md-form form-sm" style="height: 70px">
                                                    <i class="fa fa-file-image-o prefix"></i>
                                                    <!--<input type="text" id="descripcionProducto" name="descripcionProducto" class="form-control my-inputs"  required="">-->
                                                    <input type="file" name="inputImagenProd2" id="inputImagenProd2" accept="image/*" class=" my-inputs"  placeholder="Upload your file" style="margin-left: 30%;height: 40px">
                                                    <label for="inputImagenProd2">Suba la foto del producto</label>
                                                </div>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-money prefix active"></i>
                                                <input type="number" id="txtPrecio2" name="txtPrecio2" class="form-control my-inputs"  value="0" min="1" required="">
                                                <label class="active" for="txtPrecio2">Precio</label>
                                            </div>
                                            <div class="md-form form-sm">
                                                <i class="fa fa-map prefix"></i>
                                                <select name="selectCategoria2" id="selectCategoria2" class="browser-default form-control select-izquerdo" style="width: 30%;margin-left: 30%" required="">
                                                </select>
                                                <label for="selectCategoria2">Categoria</label>
                                            </div>
                                        </div>
                                        <!--Footer-->
                                        <div class="modal-footer display-footer">
                                            <button type="button" class="btn btn-outline-info waves-effect ml-auto" data-dismiss="modal">Cerrar</button>
                                            <button type="submit" name="btnAction" value="btnModificar" class="btn btn-info waves-effect ml-auto" >Modificar</button>
                                        </div>
                                        <!--Fin footer-->
                                    </form>
                                </div>
                                <!--Fin formModificarProducto-->
                            </div>

                        </div>
                    </div>
                    <!--/.Content-->
                </div>
            </div>
            <!--Fin Modal Administrar Productos-->

            <div class="modal fade" id="modalPublicarOferta" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-notify modal-warning" role="document">
                    <!--Content-->
                    <div class="modal-content">
                        <form action="OfertaServlet" method="POST">
                            <!--Header-->
                            <div class="modal-header">
                                <p class="heading lead">Realmente desea publicar la oferta</p>

                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true" class="white-text">&times;</span>
                                </button>
                            </div>

                            <!--Body-->
                            <div class="modal-body">
                                <div class="text-center" id="divTextoAlerta">
                                    <i class="fa fa-times fa-4x mb-3 animated rotateIn"></i>
                                    <p id="pIdOferta"></p>
                                    <input id="inputIdOferta" name="inputIdOferta" type="number" style="display: none">
                                </div>
                            </div>

                            <!--Footer-->
                            <div class="modal-footer justify-content-center">
                                <!--<a type="button" class="btn btn-primary-modal">Get it now <i class="fa fa-diamond ml-1"></i></a>-->
                                <a type="button" class="btn btn-outline-secondary-modal waves-effect" data-dismiss="modal">Cancelar <i class="fa fa-hand-paper-o  ml-1"></i></a>
                                <button name="accion" value="btnPublicar" type="submit" class="btn btn-outline-secondary-modal waves-effect">Publicar! <i class="fa fa-hand-paper-o  ml-1"></i></button>
                            </div>
                        </form>
                    </div>
                    <!--/.Content-->
                </div>
            </div>
            <div class="modal fade" id="modalDejarDePublicarOferta" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-notify modal-warning" role="document">
                    <!--Content-->
                    <div class="modal-content">
                        <form action="OfertaServlet" method="POST">
                            <!--Header-->
                            <div class="modal-header">
                                <p class="heading lead">Realmente desea dejar de publicar la oferta</p>

                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true" class="white-text">&times;</span>
                                </button>
                            </div>

                            <!--Body-->
                            <div class="modal-body">
                                <div class="text-center" id="divTextoAlerta">
                                    <i class="fa fa-times fa-4x mb-3 animated rotateIn"></i>
                                    <p id="pIdOfertadej"></p>
                                    <input id="inputIdOfertadej" name="inputIdOfertadej" type="number" style="display: none">
                                </div>
                            </div>

                            <!--Footer-->
                            <div class="modal-footer justify-content-center">
                                <!--<a type="button" class="btn btn-primary-modal">Get it now <i class="fa fa-diamond ml-1"></i></a>-->
                                <a type="button" class="btn btn-outline-secondary-modal waves-effect" data-dismiss="modal">Cancelar <i class="fa fa-hand-paper-o  ml-1"></i></a>
                                <button name="accion" value="btnDejarDePublicar" type="submit" class="btn btn-outline-secondary-modal waves-effect">Dejar de publicar <i class="fa fa-hand-paper-o  ml-1"></i></button>
                            </div>
                        </form>
                    </div>
                    <!--/.Content-->
                </div>
            </div>
            <div class="modal fade" id="modalMensaje" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-notify modal-warning" role="document">
                    <!--Content-->
                    <div class="modal-content">
                        <!--<form action="OfertaServlet" method="POST">-->
                        <!--Header-->
                        <div class="modal-header">
                            <p id="titulo" class="heading lead">Realmente desea dejar de publicar la oferta</p>

                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true" class="white-text">&times;</span>
                            </button>
                        </div>

                        <!--Body-->
                        <div class="modal-body">
                            <div class="text-center" id="divTextoAlerta">
                                <i id="liBien" class="fa fa-check  fa-4x mb-3 animated rotateIn"></i>
                                <i id="liMal" class="fa fa-times fa-4x mb-3 animated rotateIn"></i>
                                <!--<p id="pIdOfertadej"></p>-->
                                <!--<input id="inputIdOfertadej" name="inputIdOfertadej" type="number" style="display: none">-->
                            </div>
                        </div>

                        <!--Footer-->
                        <div class="modal-footer justify-content-center">
                            <!--<a type="button" class="btn btn-primary-modal">Get it now <i class="fa fa-diamond ml-1"></i></a>-->
                            <a type="button" class="btn btn-outline-secondary-modal waves-effect" data-dismiss="modal">Entendido <i class="fa fa-hand-paper-o  ml-1"></i></a>
                            <!--<button name="accion" value="btnDejarDePublicar" type="submit" class="btn btn-outline-secondary-modal waves-effect">Dejar de publicar <i class="fa fa-hand-paper-o  ml-1"></i></button>-->
                        </div>
                        <!--</form>-->
                    </div>
                    <!--/.Content-->
                </div>
            </div>
        </section>
        <!--Fin Section of Modal-->

        <!--Footer-->
        <footer class="page-footer indigo center-on-small-only pt-0">
            <div class="container">

                <!--First row-->
                <div class="row">

                    <!--First column-->
                    <div class="col-md-12 wow fadeIn" data-wow-delay="0.3s">

                        <div class="text-center d-flex justify-content-center my-4">

                            <!--Facebook-->
                            <a target="_blank" href="https://www.facebook.com/Mis-Ofertas-144741596169745/" class="icons-sm fb-ic"><i class="fa fa-facebook white-text fa-lg pr-md-4"> </i></a>
                            <!--Twitter-->
                            <a target="_blank" href="https://twitter.com/MisOfertasCl" class="icons-sm tw-ic"><i class="fa fa-twitter white-text fa-lg pr-md-4"> </i></a>                           
                            <!--Instagram-->
                            <a target="_blank" href="https://www.instagram.com/misofertas.cl/?hl=es" class="icons-sm ins-ic"><i class="fa fa-instagram white-text fa-lg pr-md-4"> </i></a>                            
                        </div>

                    </div>
                    <!--/First column-->

                </div>
                <!--/First row-->

            </div>
            <!--/Footer Links-->
            <!--Copyright-->
            <div class="footer-copyright wow fadeIn" data-wow-delay="0.3s">
                <div class="container-fluid">
                    Copyright © 2017 <a href="#"> MisOfertas.cl</a>
                    <span class="pull-right">Sito web creado por <a target="_blank" href="https://github.com/csalgadolizana/">Cristopher Salgado</a></span>

                </div>
            </div>
            <!--/Copyright-->

        </footer>
        <!--Fin Footer-->

        <!-- SCRIPTS -->
        <!-- JQuery -->
        <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
        <!--<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous">-->
        <!-- Bootstrap tooltips -->
        <script type="text/javascript" src="js/popper.min.js"></script>
        <!-- Bootstrap core JavaScript -->
        <script type="text/javascript" src="js/bootstrap.min.js"></script>
        <!-- MDB core JavaScript -->
        <script type="text/javascript" src="js/mdb.min.js"></script>
        <script type="text/javascript" src="js/commons.js"></script>



        <script src="DataTables/DataTables-1.10.16/js/jquery.dataTables.min.js"></script>
        <script src="DataTables/DataTables-1.10.16/js/dataTables.bootstrap4.min.js"></script>

        <script type="text/javascript" charset="UTF-8">
                                    var arrayPrecios = new Array;
                                    $(document).ready(function () {
                                        $("#selectRegion").change(function () {
                                            $("#selectComuna").children().each(function (i, div) {
                                                if ($(this).attr("idreg") != $("#selectRegion").val()) {
                                                    $(this).hide();
                                                } else {
                                                    $(this).show();
                                                }
                                                if ($("#selectRegion").val() == -1) {
                                                    $(this).show();
                                                }
                                            });
                                        });
                                        $("#selectComuna").change(function () {
                                            if ($(this).val() != -1) {
                                                $("#selectRegion").val($(this).find("option:selected").attr("idreg"));
                                            } else {
                                                $("#selectRegion").val(-1);
                                            }
                                            $("#selectRegion").change();
                                        });
                                        $("#selectComuna2").change(function () {
                                            if ($(this).val() != -1) {
                                                $("#selectRegion2").val($(this).find("option:selected").attr("idreg"));
                                            } else {
                                                $("#selectRegion2").val(-1);
                                            }
                                            $("#selectRegion2").change();
                                        });
                                        $("#selectRegion2").change(function () {
                                            $("#selectComuna2").children().each(function (i, div) {
                                                if ($(this).attr("idreg") != $("#selectRegion2").val()) {
                                                    $(this).hide();
                                                } else {
                                                    $(this).show();
                                                }
                                                if ($("#selectRegion2").val() == -1) {
                                                    $(this).show();
                                                }
                                            });
                                        });
                                        $("#selectTiendas").change(function () {
                                            if ($(this).val() != -1) {
                                                $("#selectComuna").val($(this).find("option:selected").attr("idcom"));
                                            } else {
                                                $("#selectComuna").val(-1);
                                            }
                                            $("#selectComuna").change();
                                        });
                                        $("#selectTiendas2").change(function () {
                                            if ($(this).val() != -1) {
                                                $("#selectComuna2").val($(this).find("option:selected").attr("idcom"));
                                            } else {
                                                $("#selectComuna2").val(-1);
                                            }
                                            $("#selectComuna2").change();
                                        });
                                        //                                        $("#checkCambiarFoto").click();
                                        $("#tabAdminOfertas").show();
                                        $("#tabAdminProductos").hide();
                                        $("#liAdminOfertas").toggleClass("active");
                                        $("#aAdminProductos").click(function () {
                                            $("#tabAdminProductos").show();
                                            $("#tabAdminOfertas").hide();
                                            $("#liAdminOfertas").toggleClass("active");
                                            $("#liAdminProductos").toggleClass("active");
//                                            $(this).parent()
                                        });
                                        $("#aAdminOfertas").click(function () {
                                            $("#tabAdminProductos").hide();
                                            $("#tabAdminOfertas").show();
                                            $("#liAdminOfertas").toggleClass("active");
                                            $("#liAdminProductos").toggleClass("active");
                                        });
                                        $('select').addClass('mdb-select');
                                        $('#centralModalError').on('hidden.bs.modal', function (e) {
                                            $("#txtCorreo").focus();
                                        });
                                        //max-width : 776px
//                var width = $(window).width();
                                        var max_width = 776;
                                        if ($(window).width() < max_width) {
//                    width = $(this).width();
                                            $("#btnCancelar").addClass("btn-sm");
                                            $("#btnRegistrarse").addClass("btn-sm");
                                        } else {
                                            $("#btnCancelar").removeClass("btn-sm");
                                            $("#btnRegistrarse").removeClass("btn-sm");
                                        }
                                        $(window).on('resize', function () {
//                    console.log("Largo ->" + $(this).width() + " Comparado con -> " + max_width);
                                            if ($(this).width() < max_width) {
                                                width = $(this).width();
                                                $("#btnCancelar").addClass("btn-sm");
                                                $("#btnRegistrarse").addClass("btn-sm");
                                            } else {
                                                $("#btnCancelar").removeClass("btn-sm");
                                                $("#btnRegistrarse").removeClass("btn-sm");
                                            }
                                        });
                                        $("#selectProducto").change(function () {
                                            var val = $(this).val();
                                            $("#txtPrecioNormal").val($("#selectProducto option:selected").attr("precio"));
                                            $("#txtPrecioOferta").attr("max", $("#txtPrecioNormal").val());
                                            $("#selectCategoriaProd").val($(this).find("option:selected").attr("categoria"));
                                            $("#selectCategoriaProd").change();
                                            $("#selectProducto").val(val);
                                        });
                                        $("#selectCategoriaProd").change(function () {
                                            $("#selectProducto option").each(function () {
                                                if ($(this).attr("categoria") == $("#selectCategoriaProd").val()) {
                                                    $(this).show();
                                                } else {
                                                    $(this).hide();
                                                }
                                            });
                                            $('#selectProducto option:eq(0)').prop('selected', true);
                                        });
                                        $("#selectProducto2").change(function () {
                                            $("#txtPrecioNormal2").val($("#selectProducto2 option:selected").attr("precio"));
                                            $("#txtPrecioOferta2").attr("max", $("#txtPrecioNormal2").val());
//                                            $("#selectCategoriaProd2").val($(this).find("option:selected").attr("categoria"));
                                        });
                                        $("#check").change(function () {
                                            $("#contenedor_contras").collapse('toggle');
//                     collapse
                                            if ($(this).prop('checked')) {
//                        $("#contenedor_contras").show();
                                            } else {
//                        $("#contenedor_contras").hide();
                                            }
//                    console.log("Cambio!! "+$(this).prop('checked'));
                                        });
                                        clickOnCheckFoto();
                                        getMisDatos();
                                        comprobarSiCorreoExiste();
                                        modalRespuesta();
                                    });
                                    function modalRespuesta() {
                                        var operacion = getParameterByName("ope");
                                        var estado = getParameterByName("sta");
                                        var tipo = getParameterByName("tipo");
                                        var texOper = "";
                                        var texTipo = "";
                                        if (operacion != null) {
                                            switch (operacion) {
                                                case "mod":
                                                    texOper = "Modificacion de ";
                                                    break;
                                                case "add":
                                                    texOper = "Creacion de ";
                                                    break;
                                            }
                                            if (estado == "true") {
                                                $("#liBien").show();
                                                $("#liMal").hide();
                                            } else {
                                                $("#liMal").show();
                                                $("#liBien").hide();
                                            }
                                            if (tipo == "prod") {
                                                $("#liAdminProductos").click();
                                                $("#aAdminProductos").click();
                                                texTipo = "producto";
                                            } else {
                                                texTipo = "oferta";
                                            }
                                            $("#titulo").html(texOper + texTipo);
                                            $("#modalMensaje").modal("show");
                                        }
                                    }

                                    function getMisDatos() {
                                        $.ajax({
                                            type: "POST",
                                            url: "UsuarioServlet",
                                            data: {"accion": "getDataSession"},
                                            dataType: "json",
                                            success: function (data, textStatus, jqXHR) {
                                                if (data.sesion == 1) {
                                                    console.log(" success: getMisDatos()");
                                                    console.log(data);
                                                    $("#navbarNombreSesion").text(data.correo);
                                                    listarOfertas();
                                                } else {
                                                    location.href = "index.html";
                                                }
                                            },
                                            error: function (jqXHR, textStatus, errorThrown) {
                                                console.log(" eer getMisDatos()");
                                                console.log(jqXHR);
                                                console.log(textStatus);
                                                console.log(errorThrown);
                                            }
                                        });
                                    }
                                    function comprobarSiCorreoExiste() {
                                        $("#btnRegistroFalso").click(function (evt) {
                                            $.ajax({
                                                type: "POST",
                                                url: "ClienteServlet",
                                                data: {"btnAccion": "comprobarCorreo", "mail": $("#txtCorreo").val().trim()},
                                                dataType: "json",
                                                success: function (data, textStatus, jqXHR) {
                                                    if (data.correo != "") {
                                                        $("#centralModalError").modal('show');
                                                        $("#divTextoAlerta").find("p").html("<strong>El Correo ya existe!!.</strong> <br>" +
                                                                "ingrese con uno nuevo o inicie sesion");
                                                        $("#txtCorreo").parent().find("label").addClass("active");
                                                    } else {
                                                        $("#btnRegistrarse").click();
                                                    }
                                                    console.log("Secces");
                                                    console.log(data);
                                                    console.log(textStatus);
                                                    console.log(jqXHR);
//                            if (data != null) {
//                                $("#txtCorreo").val(data.correo);
//                                $("#txtPasswd").val(data.password1);
//                                $("#txtPasswd2").val(data.password2);
//                            }
                                                },
                                                error: function (jqXHR, textStatus, errorThrown) {
                                                    console.log("error");
                                                    console.log(jqXHR);
                                                    console.log(textStatus);
                                                    console.log(errorThrown);
                                                }
                                            });
                                            $("#txtNombre").focus();
                                            // tu codigo aqui
                                        });
                                    }
                                    function pedirDatosDeRegistro() {
                                        $.ajax({
                                            type: "POST",
                                            url: "ClienteServlet",
                                            data: {"btnAccion": "quieroDatos"},
                                            dataType: "json",
                                            success: function (data, textStatus, jqXHR) {
                                                console.log("Secces");
                                                console.log(data);
                                                console.log(textStatus);
                                                console.log(jqXHR);
                                                if (data != null) {
                                                    $("#txtCorreo").val(data.correo);
                                                    $("#txtPasswd").val(data.password1);
                                                    $("#txtPasswd2").val(data.password2);
                                                }
                                            },
                                            error: function (jqXHR, textStatus, errorThrown) {
                                                console.log("error");
                                                console.log(jqXHR);
                                                console.log(textStatus);
                                                console.log(errorThrown);
                                            }
                                        });
                                        $("#txtNombre").focus();
                                    }
                                    function listarRegiones() {
                                        $.ajax({
                                            type: "POST",
                                            url: "RegionServlet",
                                            dataType: "json",
                                            success: function (data, textStatus, jqXHR) {
                                                $("#selectRegion").html("");
                                                $("#selectRegion2").html("");
                                                var options = '<option selected="selected" value="-1">Regiones</option>';
                                                $(data).each(function (a, objeto, c) {
                                                    options = options + '<option value="' + objeto.idreg + '">' + objeto.nombre + '</option>';
                                                });
                                                $("#selectRegion").html(options);
                                                $("#selectRegion2").html(options);
                                                listarComunas();
                                            },
                                            error: function (jqXHR, textStatus, errorThrown) {
                                                console.log("error");
                                            }
                                        });
                                    }
                                    function listarComunas() {
                                        $.ajax({
                                            type: "POST",
                                            url: "ComunaServlet",
                                            dataType: "json",
                                            success: function (data, textStatus, jqXHR) {
                                                $("#selectComuna").html("");
                                                $("#selectComuna2").html("");
                                                var options = '<option selected="selected" value="-1">Comunas</option>';
                                                $(data).each(function (a, objeto, c) {
                                                    options = options + '<option idreg="' + objeto.idreg + '" value="' + objeto.idcom + '">' + objeto.nombre + '</option>';
                                                });
                                                $("#selectComuna").html(options);
                                                $("#selectComuna2").html(options);
                                                return true;
                                            },
                                            error: function (jqXHR, textStatus, errorThrown) {
                                                console.log("error");
                                                return false;
                                            }
                                        });
                                    }
                                    function listarLocales() {
                                        $.ajax({
                                            type: "POST",
                                            url: "LocalServlet",
                                            data: {"accion": "listaLocales"},
                                            dataType: "json",
                                            success: function (data, textStatus, jqXHR) {
                                                $("#selectTiendas").html("");
                                                $("#selectTiendas2").html("");
                                                var options = '<option selected="selected" value="-1">Local</option>';
                                                $(data).each(function (a, objeto, c) {
                                                    options = options + '<option idreg="' + objeto.idl + '"  idcom="' + objeto.idcom + '"  value="' + objeto.idl + '">' + objeto.nombre + '</option>';
                                                });
                                                $("#selectTiendas").html(options);
                                                $("#selectTiendas2").html(options);
                                                listarCategorias();
                                            },
                                            error: function (jqXHR, textStatus, errorThrown) {
                                                console.log("error");
                                            }
                                        });
                                    }
                                    function listarCategorias() {
                                        $.ajax({
                                            type: "POST",
                                            url: "CategoriaServlet",
                                            data: {"accion": "listaCategorias"},
                                            dataType: "json",
                                            success: function (data, textStatus, jqXHR) {
                                                $("#selectCategoriaProd").html('<option selected="selected" disabled="">Seleccione Categoria</option>');
                                                $("#selectCategoria").html('<option selected="selected" disabled="">Seleccione Categoria</option>');
                                                $("#selectCategoria2").html("");
//                                                $("#selectCategoriaProd").html("");
                                                var options = "";
                                                $(data).each(function (a, objeto, c) {
                                                    options = options + '<option value="' + objeto.idcat + '">' + objeto.nombre + '</option>';
                                                });
                                                $("#selectCategoria2").html('<option selected="selected" disabled="">Seleccione Categoria</option>' + options);
                                                $("#selectCategoria").html('<option selected="selected" disabled="">Seleccione Categoria</option>' + options);
                                                $("#selectCategoriaProd").html('<option selected="selected" disabled="">Seleccione Categoria</option>' + options);
//                                                $("#selectCategoriaProd2").html('<option selected="selected" disabled="">Seleccione Categoria</option>' + options);
//                                                console.log(options);
                                                listarProductos();
                                            },
                                            error: function (jqXHR, textStatus, errorThrown) {
                                                console.log("error");
                                            }
                                        });
                                    }

//                                    funciones Productos
                                    var cambia = 1;
                                    function clickOnCheckFoto() {
                                        $("#checkCambiarFoto").change(function () {
                                            $("#contenedor_foto").collapse('toggle');
                                            if (cambia == 1) {
                                                $("#inputImagenProd2").prop("required", true);
                                                cambia = 0;
                                            } else {
                                                $("#inputImagenProd2").prop("required", false);
                                                cambia = 1;
                                            }
                                        });
                                    }
                                    function listarProductos() {
                                        $.ajax({
                                            type: "POST",
                                            url: "ProductoServlet",
                                            data: {"accion": "listaProductos"},
                                            dataType: "json",
                                            success: function (data, textStatus, jqXHR) {
//                                                console.log(data);
                                                $("#selectProducto").html("");
                                                $("#selectProducto2").html("");
                                                var options;
                                                options = '<option selected="selected" disabled="">Seleccione Producto</option>';
                                                $(data).each(function (a, objeto, c) {
//                                                    console.log(objeto);
                                                    options = options + '<option value="' + objeto.idpro + '" precio="' + objeto.precio + '" categoria="' + objeto.idcat + '">' + objeto.nombre + '</option>';
                                                    arrayPrecios.push(objeto.precio);
                                                });
                                                $("#selectProducto").html(options);
                                                $("#selectProducto2").html(options);
                                                $("#tabla-productos > tbody").html("");
                                                var TRs;
                                                var icono_equis = '<i class="fa fa-times fa-2x mb-3 animated rotateIn active" style="color: #ff4b4b"></i>';
                                                var icono_check = '<i class="fa fa-check fa-2x mb-3 animated rotateIn active" style="color: #01d36b"></i>';
                                                $(data).each(function (a, td, c) {
//                                                    console.log(td);
                                                    var img = '<img id="img_anterior" src="' + td.imagen + '" alt="Super descuento Apple" height="50" width="50">';
                                                    var tag_img = td.imagen == "-" ? icono_equis : img;
//                                                    var tag = td.estado == 2 ? icono_equis : icono_check;
                                                    var callFuncEdiOferta = "'" + td.idpro + "','" + td.nombre + "','" + td.desc + "','" + td.precio + "','" + td.imagen + "','" + td.idcat + "'";
                                                    var accion = '\
                                            <a style="margin-left:2px" onclick="editarProductoModal(' + callFuncEdiOferta + ')"><i class="fa fa fa-cog fa-2x mb-3" aria-hidden="true" style="color: #c2c4b8"></i></a>';
                                                    TRs = TRs + "<tr>";
                                                    TRs = TRs +
                                                            '<td>' + td.idpro + '</td>' +
                                                            '<td>' + td.nombre + '</td>' +
                                                            '<td>' + td.desc + '</td>' +
                                                            '<td>' + td.precio + '</td>' +
                                                            '<td>' + td.fecha_cre + '</td>' +
                                                            '<td>' + td.fecha_act + '</td>' +
                                                            '<td>' + tag_img + '</td>' +
                                                            '<td>' + td.nombre_cat + '</td>' +
                                                            '<td>' + accion + '</td>';
                                                    TRs = TRs + "</tr>";
                                                });
                                                $("#tabla-productos > tbody").html(TRs);
                                                $('#tabla-productos').DataTable({
                                                    "pageLength": 5,
                                                    "language": {
                                                        "lengthMenu": "",
                                                        "search": "Buscar : ",
                                                        "zeroRecords": "Ningun dato encontrado - Lo sentimos",
                                                        "info": "Mostrando pagina _PAGE_ de _PAGES_",
                                                        "infoEmpty": "No hay datos disponibles",
                                                        "infoFiltered": "(filtered from _MAX_ total records)"
                                                    }
                                                });
                                                listarRegiones();
                                            },
                                            error: function (jqXHR, textStatus, errorThrown) {
                                                console.log("error");
                                                console.log(jqXHR);
                                                console.log(textStatus);
                                                console.log(errorThrown);
                                            }
                                        });
                                    }
                                    function editarProductoModal(idpro, nom, desc, precio, ruta_img, idcat) {
                                        console.log("id -> " + idpro);
                                        console.log("nom -> " + nom);
                                        console.log("desc -> " + desc);
                                        console.log("precio -> " + precio);
                                        console.log("ruta_img -> " + ruta_img);
                                        console.log("idcat -> " + idcat);
                                        console.log("ruta_img -> " + ruta_img);
                                        $("#idProducto2").val(idpro);
                                        $("#nombreProducto2").val(nom);
                                        $("#descripcionProducto2").val(desc);
                                        $("#descripcionProducto2").focus();
                                        $("#txtPrecio2").val(precio);
                                        $("#txtPrecio2").focus();
                                        $("#selectCategoria2").val(idcat);
                                        if (ruta_img != "-") {
                                            console.log(ruta_img);
                                            ruta_img = ruta_img.replace("\\", "/");
                                            console.log(ruta_img);
                                            ruta_img = ruta_img.replace("\\", "/");
                                            console.log(ruta_img);
                                            $("#imgActual").attr("src", ruta_img);
                                            $("#imgActual").attr("alt", nom);
                                            $("#imgActual").parent().parent().show();
                                        } else {
                                            $("#imgActual").parent().parent().hide();
                                        }


                                        $("#navItemProd1").hide();
                                        $("#formEditarProducto").show();
                                        $("#navItemProd2").show();
                                        $("#navItemProd2 > a").click();
                                        $("#ModalCrearProducto").modal("show");
                                        $("#nombreProducto2").focus();
                                    }
                                    function crearProductoModal() {
                                        $("#formEditarProducto").hide();
                                        $("#navItemProd2").hide();
                                        $("#navItemProd1").show();
                                        $("#navItemProd1 > a").click();
                                        $("#ModalCrearProducto").modal("show");
                                    }
//                                    Fin funciones Productos

//                                    funciones OFertas
                                    function listarOfertas() {
                                        $.ajax({
                                            type: "POST",
                                            url: "OfertaServlet",
                                            data: {"accion": "listaOfertas"},
                                            dataType: "json",
                                            success: function (data, textStatus, jqXHR) {
//                        console.log(data);
                                                $("#tabla-ofertas > tbody").html("");
                                                var TRs;
                                                var icono_equis = '<i class="fa fa-times fa-2x mb-3 animated rotateIn active" style="color: #ff4b4b"></i>';
                                                var icono_check = '<i class="fa fa-check fa-2x mb-3 animated rotateIn active" style="color: #01d36b"></i>';
                                                $(data).each(function (a, td, c) {
//                                                    console.log(td);
                                                    var tag = td.estado == 2 ? icono_equis : icono_check;
                                                    var callFuncEdiOferta = "'" + td.idof + "','" + td.nombre + "','" + td.desc + "','" + td.precio_normal + "','" + td.precio_oferta + "','" + td.num_visitas + "','" + td.min_compras + "','" + td.max_compras + "','" + td.idprod + "','" + td.estado + "','" + td.ruta_img + "','" + td.id_local + "'";
                                                    var callFuncPublicarOferta = "'" + td.idof + "'";
                                                    var accion = td.estado == 2 ? '\
                        <a onclick="publicarOfertaModal(' + callFuncPublicarOferta + ')"><i class="fa fa-share-alt fa-2x mb-3" aria-hidden="true" style="color: #33b5e5"></i></a>   \n\
                        <a style="margin-left:2px" onclick="editarOfertaModal(' + callFuncEdiOferta + ')"><i class="fa fa fa-cog fa-2x mb-3" aria-hidden="true" style="color: #c2c4b8"></i></a>'
                                                            : '<a style="margin-left:2px" onclick="dejarDePublicar(' + td.idof + ')"><i class="fa fa-eye-slash fa-2x mb-3" aria-hidden="true" style="color: #eda45c"></i></a>';
                                                    TRs = TRs + "<tr>";
                                                    TRs = TRs +
                                                            '<td>' + td.idof + '</td>' +
                                                            '<td>' + td.nombre + '</td>' +
                                                            '<td>' + td.desc + '</td>' +
                                                            '<td>' + td.precio_normal + '</td>' +
                                                            '<td>' + td.precio_oferta + '</td>' +
                                                            '<td>' + td.num_visitas + '</td>' +
                                                            '<td>' + td.min_compras + '</td>' +
                                                            '<td>' + td.max_compras + '</td>' +
                                                            '<td>' + tag + '</td>' +
                                                            '<td>' + accion + '</td>';
                                                    TRs = TRs + "</tr>";
                                                });
                                                $("#tabla-ofertas > tbody").html(TRs);
                                                $('#tabla-ofertas').DataTable({
                                                    "pageLength": 5,
                                                    "language": {
                                                        "lengthMenu": "",
                                                        "search": "Buscar : ",
                                                        "zeroRecords": "Ningun dato encontrado - Lo sentimos",
                                                        "info": "Mostrando pagina _PAGE_ de _PAGES_",
                                                        "infoEmpty": "No hay datos disponibles",
                                                        "infoFiltered": "(filtered from _MAX_ total records)"
                                                    }
                                                });
                                                listarLocales();
                                            },
                                            error: function (jqXHR, textStatus, errorThrown) {
                                                console.log("error");
                                                console.log(jqXHR.responseText);
                                                console.log(textStatus);
                                                console.log(errorThrown);
                                            }
                                        });
                                    }
                                    function publicarOfertaModal(id) {
                                        $("#inputIdOferta").val(id);
                                        $("#modalPublicarOferta").modal("show");
                                        $("#pIdOferta").text(id);
                                    }
                                    function dejarDePublicar(id) {
                                        $("#inputIdOfertadej").val(id);
                                        $("#modalDejarDePublicarOferta").modal("show");
                                        $("#pIdOfertadej").text(id);
                                    }
                                    function editarOfertaModal(id, nom, desc, pre_nor, pre_ofer, num_visi, min_com, max_com, idprod, publicada, ruta_img, id_local) {
                                        $("#idOferta2").val(id);
                                        $("#nombreOferta2").val(nom);
                                        $("#descripcionOferta2").val(desc);
                                        $("#selectProducto2").attr("disabled", false);
                                        $("#selectProducto2").val(idprod).trigger('change');
                                        $("#idProducto").val(idprod);
                                        $("#selectProducto2").attr("disabled", true);
                                        $("#txtPrecioOferta2").val(pre_ofer);
                                        $("#selectTiendas2").val(id_local).trigger('change');
                                        $("#txtCantMaxima2").val(max_com);
                                        console.log(ruta_img);
                                        ruta_img = ruta_img.replace("\\", "/");
                                        console.log(ruta_img);
                                        ruta_img = ruta_img.replace("\\", "/");
                                        console.log(ruta_img);
                                        $("#img_anterior").attr("src", ruta_img);
                                        $("#img_anterior").attr("alt", nom);
                                        $("#navItem1").hide();
                                        $("#formEditarOferta").show();
                                        $("#navItem2").show();
                                        $("#navItem2 > a").click();
                                        $("#ModalCrearOferta").modal("show");
                                    }
                                    function crearOfertaModal() {
                                        $("#formEditarOferta").hide();
                                        $("#navItem2").hide();
                                        $("#navItem1").show();
                                        $("#navItem1 > a").click();
                                        $("#ModalCrearOferta").modal("show");
                                    }
//                                    Fin funciones Ofertas

                                    function cerrarSesion() {
                                        $.ajax({
                                            type: "POST",
                                            url: "UsuarioServlet",
                                            data: {"accion": "destroySession"},
                                            dataType: "json",
                                            error: function (jqXHR, textStatus, errorThrown) {
                                                console.log(" eer cerrarSesion()");
                                                console.log(jqXHR);
                                                console.log(textStatus);
                                                console.log(errorThrown);
                                            }
                                        });
                                    }
        </script>

    </body>
</html>